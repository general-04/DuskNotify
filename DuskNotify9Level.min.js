!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Dusk=e()}(this,(function(){"use strict";const t={success:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n        </svg>',info:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />\n        </svg>',warning:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />\n        </svg>',error:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n        </svg>',loading:'\n        <svg xmlns="http://www.w3.org/2000/svg" class="animate-spin" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5" />\n        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z" />\n        </svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="18" height="18">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />\n        </svg>',ask:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />\n        </svg>\n        ',shield:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-shield-shaded" viewBox="0 0 16 16">\n        <path fill-rule="evenodd" d="M8 14.933a1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"/>\n        </svg>\n        ',clock:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />\n        </svg>',bell:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" />\n        </svg>\n        ',search:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">\n        <path stroke-linecap="round" stroke-linejoin="round" d="m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />\n        </svg>\n\n        ',setting:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">\n        <path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z" />\n        </svg>\n\n        ',ban:'\n        <svg class="w-[47px] h-[47px] dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n        <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m6 6 12 12m3-6a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>\n        </svg>\n\n        ',succmove:'\n        <div class="sa">\n        <div class="sa-success">\n        <div class="sa-success-tip"></div>\n        <div class="sa-success-long"></div>\n        <div class="sa-success-placeholder"></div>\n        <div class="sa-success-fix"></div>\n        </div>\n        </div>\n        ',errmove:'\n        <div class="sa">\n        <div class="sa-error">\n        <div class="sa-error-x">\n        <div class="sa-error-left"></div>\n        <div class="sa-error-right"></div>\n        </div>\n        <div class="sa-error-placeholder"></div>\n        <div class="sa-error-fix"></div>\n        </div>\n        </div>\n\n        ',warnmove:'\n        <div class="sa-warning">\n        <div class="sa-warning-body">!</div>\n        <div class="sa-warning-placeholder"></div>\n        <div class="sa-warning-fix"></div>\n        </div>\n        ',infomove:'\n        <div class="sa-info">\n        <div class="sa-info-body">i</div>\n        <div class="sa-info-placeholder"></div>\n        <div class="sa-info-fix"></div>\n        </div>\n        '},e={title:"",text:"",icon:"info",iconVisible:!0,iconHTML:"",image:"",imgWidth:"",imgHeight:"",alertColorContent:"",showButtonColumn:null,showButtonGrow:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonText:"OK",cancelButtonText:"Cancel",confirmButtonColor:"",cancelButtonColor:"",confirmCallback:null,cancelCallback:null,closeOnOverlayClick:!0,progress:!0,timer:null,position:"center",animation:!0,animationCustomStart:"",animationCustomEnd:"",customClass:"",allowOutsideClick:!0,backdrop:!0,toast:!1,toastPosition:"bottom-end",theme:""},s=["fade-in","fade-out","slide-up","slide-down","zoom-in","zoom-out","bounce-in","bounce-out","flip-in","flip-out","rotate-in","rotate-out"];function o(t){const e={success:"var(--da-success-color)",info:"var(--da-info-color)",warning:"var(--da-warning-color)",error:"var(--da-error-color)",ban:"var(--da-ban-color)",loading:"var(--da-loading-color)",ask:"var(--da-ask-color)",shield:"var(--da-shield-color)",clock:"var(--da-clock-color)",bell:"var(--da-bell-color)",search:"var(--da-search-color)",setting:"var(--da-setting-color)",emerald:"var(--da-success-color)",blue:"var(--da-info-color)",amber:"var(--da-warning-color)",red:"var(--da-error-color)",sky:"var(--da-loading-color)",violet:"var(--da-ask-color)",orange:"var(--da-shield-color)",cyan:"var(--da-clock-color)",pink:"var(--da-bell-color)",lime:"var(--da-search-color)",slate:"var(--da-setting-color)"};return e[t]?e[t]:/^#([0-9A-F]{3}){1,2}$/i.test(t)?t:"var(--da-info-color)"}function n(t,e=[],s={}){const o=document.createElement(t);return e.length&&o.classList.add(...e),Object.entries(s).forEach((([t,e])=>{o.setAttribute(t,e)})),o}class i{constructor(t={}){this.options={...e,...t},this.overlayElement=null,this.alertElement=null,this.timer=null,this.toastElement=null,this.options.toast||this.init()}getContrastColor(t){if(t.startsWith("var(")){const e=getComputedStyle(document.documentElement).getPropertyValue(t.replace("var(","").replace(")",""));t=e.trim()}let e,s,o;if(t.startsWith("#"))t=t.substring(1),e=parseInt(t.substring(0,2),16),s=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);else{if(!t.startsWith("rgb"))return"#ffffff";{const n=t.match(/\d+/g);e=parseInt(n[0]),s=parseInt(n[1]),o=parseInt(n[2])}}return(.299*e+.587*s+.114*o)/255>.5?"#000000":"#ffffff"}init(){this.overlayElement=n("div",["dark-alert-overlay"]),this.options.backdrop||(this.overlayElement.style.background="transparent");const t=["dark-alert",`dark-alert-${this.options.icon}`];return"light-alert"===this.options.theme&&t.push("light-alert"),this.alertElement=n("div",t),this.options.animationCustomStart&&s.includes(this.options.animationCustomStart)?this.alertElement.classList.add(`da-animate-${this.options.animationCustomStart}`):this.options.animation&&this.alertElement.classList.add("da-animate-fade-in"),this.handleAlertPosition(),this.options.customClass&&this.alertElement.classList.add(this.options.customClass),this.buildAlertContent(),this.applyAlertColors(),this.overlayElement.appendChild(this.alertElement),document.body.appendChild(this.overlayElement),setTimeout((()=>{this.overlayElement.classList.add("active")}),10),this.setupEventListeners(),this.handleTimer(),document.body.style.overflow="hidden",this}handleAlertPosition(){switch(this.overlayElement.style.alignItems="center",this.overlayElement.style.justifyContent="center",this.options.position){case"top":this.overlayElement.style.justifyContent="center",this.overlayElement.style.alignItems="flex-start";break;case"top-start":this.overlayElement.style.justifyContent="flex-start",this.overlayElement.style.alignItems="flex-start";break;case"top-end":this.overlayElement.style.justifyContent="flex-end",this.overlayElement.style.alignItems="flex-start";break;case"bottom":this.overlayElement.style.justifyContent="center",this.overlayElement.style.alignItems="flex-end";break;case"bottom-start":this.overlayElement.style.justifyContent="flex-start",this.overlayElement.style.alignItems="flex-end";break;case"bottom-end":this.overlayElement.style.justifyContent="flex-end",this.overlayElement.style.alignItems="flex-end";break;case"center":this.overlayElement.style.justifyContent="center",this.overlayElement.style.alignItems="center"}}applyButtonGrow(t){t.querySelectorAll(".dark-alert-button").forEach((t=>{!1===this.options.showButtonGrow?t.style.flex="unset":t.style.flex="1"}))}buildButtonContainer(){const t=n("div",["dark-alert-buttons"]);if(!0===this.options.showButtonColumn?t.classList.add("dark-alert-buttons-column"):t.classList.add("dark-alert-buttons-row"),this.options.showCancelButton){const e=n("button",["dark-alert-button","dark-alert-button-cancel"]);if(e.textContent=this.options.cancelButtonText,this.options.cancelButtonColor){const t=o(this.options.cancelButtonColor);e.style.backgroundColor=t,e.style.color=this.getContrastColor(t)}e.addEventListener("click",(()=>{this.close(),"function"==typeof this.options.cancelCallback&&this.options.cancelCallback()})),t.appendChild(e)}if(this.options.showConfirmButton){const e=n("button",["dark-alert-button","dark-alert-button-confirm"]);if(e.textContent=this.options.confirmButtonText,this.options.confirmButtonColor){const t=o(this.options.confirmButtonColor);e.style.backgroundColor=t,e.style.color=this.getContrastColor(t)}e.addEventListener("click",(()=>{this.close(),"function"==typeof this.options.confirmCallback&&this.options.confirmCallback()})),t.appendChild(e)}this.applyButtonGrow(t),this.alertElement.appendChild(t)}applyAlertColors(){if(this.options.alertColorContent){const t=o(this.options.alertColorContent);let e;if(this.alertElement.style.setProperty("--da-custom-color",t),this.alertElement.classList.add("dark-alert-custom-color"),t.startsWith("#")){const{r:s,g:o,b:n}=this.hexToRgb(t);e=`${s}, ${o}, ${n}`}else{const s=getComputedStyle(document.documentElement).getPropertyValue(t.replace("var(","").replace(")","")),{r:o,g:n,b:i}=this.hexToRgb(s.trim());e=`${o}, ${n}, ${i}`}this.alertElement.style.setProperty("--da-custom-pulse-color",e),this.alertElement.style.setProperty("--da-custom-accent-color",t);[".dark-alert-progress-bar",".dark-alert-toast-progress::before",".dark-alert-icon",".dark-alert-button-confirm"].forEach((e=>{this.alertElement.querySelectorAll(e).forEach((s=>{e.includes("progress")?s.style.backgroundColor=t:e.includes("icon")?s.style.color=t:e.includes("button")&&(s.style.backgroundColor=t)}))}))}}hexToRgb(t){t=t.replace("#","");return{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}}buildAlertContent(){if(this.options.icon&&this.options.iconVisible&&!this.options.image){const e=n("div",["dark-alert-icon"]);e.innerHTML=t[this.options.icon],this.alertElement.appendChild(e)}if(this.options.image){const t=n("div",["dark-alert-image"]),e=n("img",[],{src:this.options.image,alt:this.options.title||"Alert image"});this.options.imgWidth&&(e.style.width="auto"===this.options.imgWidth?"auto":this.options.imgWidth.includes("%")||this.options.imgWidth.includes("rem")||this.options.imgWidth.includes("em")||this.options.imgWidth.includes("vw")?this.options.imgWidth:`${this.options.imgWidth}px`),this.options.imgHeight&&(e.style.height="auto"===this.options.imgHeight?"auto":this.options.imgHeight.includes("%")||this.options.imgHeight.includes("rem")||this.options.imgHeight.includes("em")||this.options.imgHeight.includes("vh")?this.options.imgHeight:`${this.options.imgHeight}px`),t.appendChild(e),this.alertElement.appendChild(t)}if(this.options.title){const t=n("h3",["dark-alert-title"]);t.textContent=this.options.title,this.alertElement.appendChild(t)}if(this.options.text){const t=n("div",["dark-alert-content"]);t.textContent=this.options.text,this.alertElement.appendChild(t)}if(this.buildButtonContainer(),this.options.timer&&this.options.progress){const t=n("div",["dark-alert-progress"]),e=n("div",["dark-alert-progress-bar"]);e.style.animationDuration=`${this.options.timer}ms`,t.appendChild(e),this.alertElement.appendChild(t)}}setupEventListeners(){this.options.closeOnOverlayClick&&this.options.allowOutsideClick&&this.overlayElement.addEventListener("click",(t=>{t.target===this.overlayElement&&this.close()})),document.addEventListener("keydown",this.escKeyHandler=t=>{"Escape"===t.key&&this.options.allowOutsideClick&&this.close()})}handleTimer(){this.options.timer&&"number"==typeof this.options.timer&&(this.timer=setTimeout((()=>{this.close()}),this.options.timer))}close(){if(this.overlayElement){this.overlayElement.classList.remove("active"),this.timer&&clearTimeout(this.timer),this.options.animationCustomEnd&&s.includes(this.options.animationCustomEnd)?this.alertElement.classList.add(`da-animate-${this.options.animationCustomEnd}`):this.options.animation&&this.alertElement.classList.add("da-animate-fade-out");const t=this.getAnimationDuration(this.options.animationCustomEnd||"fade-out");setTimeout((()=>{this.overlayElement.parentNode&&document.body.removeChild(this.overlayElement),document.querySelector(".dark-alert-overlay")||(document.body.style.overflow=""),document.removeEventListener("keydown",this.escKeyHandler)}),t)}}getAnimationDuration(t){const e={"bounce-in":500,"bounce-out":500,"flip-in":600,"flip-out":600,"rotate-in":700,"rotate-out":700,default:300};return e[t]||e.default}static showToast(t){const e={...t,toast:!0,showConfirmButton:!1,showCancelButton:!1,timer:t.timer||3e3};return new i(e).createToast()}createToast(){const e=["dark-alert-toast",`dark-alert-toast-${this.options.icon}`];"light-alert"===this.options.theme&&e.push("light-alert"),this.toastElement=n("div",e),this.options.customClass&&this.toastElement.classList.add(this.options.customClass);const s=n("div",["dark-alert-toast-icon"]);s.innerHTML=t[this.options.icon],this.toastElement.appendChild(s);const o=n("div",["dark-alert-toast-content"]);if(this.options.title){const t=n("div",["dark-alert-toast-title"]);t.textContent=this.options.title,o.appendChild(t)}if(this.options.text){const t=n("div",["dark-alert-toast-message"]);t.textContent=this.options.text,o.appendChild(t)}this.toastElement.appendChild(o);const i=n("div",["dark-alert-toast-close"]);if(i.innerHTML=t.close,i.addEventListener("click",(()=>this.closeToast())),this.toastElement.appendChild(i),this.options.timer){const t=n("div",["dark-alert-toast-progress"]);this.toastElement.appendChild(t),setTimeout((()=>{(t.querySelector("::before")||t).style.animation=`shrink ${this.options.timer/1e3}s linear forwards`}),10)}return this.handleToastPosition(),document.body.appendChild(this.toastElement),setTimeout((()=>{this.toastElement.classList.add("active")}),10),this.options.timer&&(this.timer=setTimeout((()=>{this.closeToast()}),this.options.timer)),this}handleToastPosition(){switch(this.options.toastPosition||"bottom-end"){case"top":this.toastElement.style.top="24px",this.toastElement.style.left="50%",this.toastElement.style.right="auto",this.toastElement.style.bottom="auto",this.toastElement.style.transform="translateX(-50%)";break;case"top-start":this.toastElement.style.top="24px",this.toastElement.style.left="24px",this.toastElement.style.right="auto",this.toastElement.style.bottom="auto";break;case"top-end":this.toastElement.style.top="24px",this.toastElement.style.right="24px",this.toastElement.style.left="auto",this.toastElement.style.bottom="auto";break;case"bottom":this.toastElement.style.bottom="24px",this.toastElement.style.left="50%",this.toastElement.style.right="auto",this.toastElement.style.top="auto",this.toastElement.style.transform="translateX(-50%)";break;case"bottom-start":this.toastElement.style.bottom="24px",this.toastElement.style.left="24px",this.toastElement.style.right="auto",this.toastElement.style.top="auto";break;default:this.toastElement.style.bottom="24px",this.toastElement.style.right="24px",this.toastElement.style.left="auto",this.toastElement.style.top="auto"}}closeToast(){this.toastElement&&(this.toastElement.classList.remove("active"),this.timer&&clearTimeout(this.timer),setTimeout((()=>{this.toastElement.parentNode&&document.body.removeChild(this.toastElement)}),300))}static fire(t){return new i(t)}static custom(t){return new i(t)}static dark(t){return new i(t)}static light(t){return new i({theme:"light-alert",...t})}static success(t){return new i({icon:"success",...t})}static info(t){return new i({icon:"info",...t})}static warning(t){return new i({icon:"warning",...t})}static error(t){return new i({icon:"error",...t})}static ban(t){return new i({icon:"ban",...t})}static loading(t){return new i({icon:"loading",...t})}static ask(t){return new i({icon:"ask",...t})}static shield(t){return new i({icon:"shield",...t})}static clock(t){return new i({icon:"clock",...t})}static bell(t){return new i({icon:"bell",...t})}static search(t){return new i({icon:"search",...t})}static setting(t){return new i({icon:"setting",...t})}static successToast(t){return i.showToast({icon:"success",...t})}static infoToast(t){return i.showToast({icon:"info",...t})}static warningToast(t){return i.showToast({icon:"warning",...t})}static errorToast(t){return i.showToast({icon:"error",...t})}static banToast(t){return i.showToast({icon:"ban",...t})}static loadingToast(t){return i.showToast({icon:"loading",...t})}static askToast(t){return i.showToast({icon:"ask",...t})}static shieldToast(t){return i.showToast({icon:"shield",...t})}static clockToast(t){return i.showToast({icon:"clock",...t})}static bellToast(t){return i.showToast({icon:"bell",...t})}static searchToast(t){return i.showToast({icon:"search",...t})}static settingToast(t){return i.showToast({icon:"setting",...t})}}return i}));const link=document.createElement("link");link.rel="stylesheet",link.href="DuskNotify9Level.css",document.head.appendChild(link);